/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ahrs@1.3.3/build/www-ahrs.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
require=function t(n,o,i){function a(r,c){if(!o[r]){if(!n[r]){var s="function"==typeof require&&require;if(!c&&s)return s(r,!0);if(e)return e(r,!0);var h=new Error("Cannot find module '"+r+"'");throw h.code="MODULE_NOT_FOUND",h}var u=o[r]={exports:{}};n[r][0].call(u.exports,(function(t){return a(n[r][1][t]||t)}),u,u.exports,t,n,o,i)}return o[r].exports}for(var e="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({"./Madgwick":[function(t,n,o){"use strict";n.exports=function(t,n){const o=1e3/t;let i=(n=n||{}).beta||.4,a=!0!==n.doInitialisation,e=1,r=0,c=0,s=0,h=1/o;function u(t,n,o,i,a,e){return{x:n*e-o*a,y:o*i-t*e,z:t*a-n*i}}function M(t,n,o,i,h,M){const l=function(t,n,o,i,a,e){const r=-Math.atan2(t,Math.sqrt(n*n+o*o)),c=u(t,n,o,1,0,0),s=u(1,0,0,c.x,c.y,c.z),h=Math.atan2(s.y,s.z),M=Math.cos(h),l=Math.sin(r),f=Math.sin(h),y=a*M-e*f,d=i*Math.cos(r)+a*f*l+e*M*l;return{heading:-Math.atan2(y,d),pitch:r,roll:h}}(t,n,o,i,h,M),f=function(t){const n=Math.cos(.5*t.heading),o=Math.sin(.5*t.heading),i=Math.cos(.5*t.pitch),a=Math.sin(.5*t.pitch),e=Math.cos(.5*t.roll),r=Math.sin(.5*t.roll);return{w:e*i*n+r*a*o,x:r*i*n-e*a*o,y:e*a*n+r*i*o,z:e*i*o-r*a*n}}(l),y=(f.w*f.w+f.x*f.x+f.y*f.y+f.z*f.z)**-.5;e=f.w*y,r=f.x*y,c=f.y*y,s=f.z*y,a=!0}return{update:function(t,n,o,u,l,f,y,d,g,p){let x,w,z,v,k,q,E,A,m,I,O,Q,D,b,N,U,_,j,C,F,H,L,P,R,S,T,V,$,B,G,J,K,W,X,Y;h=p||h,a||M(u,l,f,y,d,g),void 0===y||void 0===d||void 0===g||0===y&&0===d&&0===g?function(t,n,o,a,u,M){let l,f,y,d,g,p,x,w,z,v,k,q,E,A,m,I,O,Q,D,b,N,U;p=.5*(-r*t-c*n-s*o),x=.5*(e*t+c*o-s*n),w=.5*(e*n-r*o+s*t),z=.5*(e*o+r*n-c*t),0===a&&0===u&&0===M||(l=(a*a+u*u+M*M)**-.5,v=2*e,k=2*r,q=2*c,E=2*s,A=4*e,m=4*r,I=4*c,O=8*r,Q=8*c,D=e*e,b=r*r,N=c*c,U=s*s,f=A*N+q*(a*=l)+A*b-k*(u*=l),y=m*U-E*a+4*D*r-v*u-m+O*b+O*N+m*(M*=l),d=4*D*c+v*a+I*U-E*u-I+Q*b+Q*N+I*M,g=4*b*s-k*a+4*N*s-q*u,l=(f*f+y*y+d*d+g*g)**-.5,f*=l,y*=l,d*=l,g*=l,p-=i*f,x-=i*y,w-=i*d,z-=i*g),e+=p*h,r+=x*h,c+=w*h,s+=z*h,l=(e*e+r*r+c*c+s*s)**-.5,e*=l,r*=l,c*=l,s*=l}(t,n,o,u,l,f):(q=.5*(-r*t-c*n-s*o),E=.5*(e*t+c*o-s*n),A=.5*(e*n-r*o+s*t),m=.5*(e*o+r*n-c*t),0===u&&0===l&&0===f||(x=(u*u+l*l+f*f)**-.5,u*=x,l*=x,f*=x,x=(y*y+d*d+g*g)**-.5,Q=2*e*(y*=x),D=2*e*(d*=x),b=2*e*(g*=x),N=2*r*y,F=2*e,H=2*r,L=2*c,P=2*s,R=2*e*c,S=2*c*s,T=e*e,V=e*r,$=e*c,B=e*s,G=r*r,J=r*c,K=r*s,W=c*c,X=c*s,Y=s*s,I=y*T-D*s+b*c+y*G+H*d*c+H*g*s-y*W-y*Y,O=Q*s+d*T-b*r+N*c-d*G+d*W+L*g*s-d*Y,U=Math.sqrt(I*I+O*O),_=-Q*c+D*r+g*T+N*s-g*G+L*d*s-g*W+g*Y,j=2*U,C=2*_,w=-L*(2*K-R-u)+H*(2*V+S-l)-_*c*(U*(.5-W-Y)+_*(K-$)-y)+(-U*s+_*r)*(U*(J-B)+_*(V+X)-d)+U*c*(U*($+K)+_*(.5-G-W)-g),z=P*(2*K-R-u)+F*(2*V+S-l)-4*r*(1-2*G-2*W-f)+_*s*(U*(.5-W-Y)+_*(K-$)-y)+(U*c+_*e)*(U*(J-B)+_*(V+X)-d)+(U*s-C*r)*(U*($+K)+_*(.5-G-W)-g),v=-F*(2*K-R-u)+P*(2*V+S-l)-4*c*(1-2*G-2*W-f)+(-j*c-_*e)*(U*(.5-W-Y)+_*(K-$)-y)+(U*r+_*s)*(U*(J-B)+_*(V+X)-d)+(U*e-C*c)*(U*($+K)+_*(.5-G-W)-g),k=H*(2*K-R-u)+L*(2*V+S-l)+(-j*s+_*r)*(U*(.5-W-Y)+_*(K-$)-y)+(-U*e+_*c)*(U*(J-B)+_*(V+X)-d)+U*r*(U*($+K)+_*(.5-G-W)-g),x=(w*w+z*z+v*v+k*k)**-.5,w*=x,z*=x,v*=x,k*=x,q-=i*w,E-=i*z,A-=i*v,m-=i*k),e+=q*h,r+=E*h,c+=A*h,s+=m*h,x=(e*e+r*r+c*c+s*s)**-.5,e*=x,r*=x,c*=x,s*=x)},init:M,getQuaternion:()=>({w:e,x:r,y:c,z:s})}}},{}],"./Mahony":[function(t,n,o){"use strict";n.exports=function(t,n){const o=(n=n||{}).kp||1,i=n.ki||0;let a=1/(1e3/t),e=!0!==n.doInitialisation,r=2*o;const c=2*i;let s=1,h=0,u=0,M=0,l=0,f=0,y=0;function d(t,n,o,i,a,e){return{x:n*e-o*a,y:o*i-t*e,z:t*a-n*i}}function g(t,n,o,i,a,r){const c=function(t,n,o,i,a,e){const r=-Math.atan2(t,Math.sqrt(n*n+o*o)),c=d(t,n,o,1,0,0),s=d(1,0,0,c.x,c.y,c.z),h=Math.atan2(s.y,s.z),u=Math.cos(h),M=Math.sin(r),l=Math.sin(h),f=a*u-e*l,y=i*Math.cos(r)+a*l*M+e*u*M;return{heading:-Math.atan2(f,y),pitch:r,roll:h}}(t,n,o,i,a,r),l=function(t){const n=Math.cos(.5*t.heading),o=Math.sin(.5*t.heading),i=Math.cos(.5*t.pitch),a=Math.sin(.5*t.pitch),e=Math.cos(.5*t.roll),r=Math.sin(.5*t.roll);return{w:e*i*n+r*a*o,x:r*i*n-e*a*o,y:e*a*n+r*i*o,z:e*i*o-r*a*n}}(c),f=(l.w*l.w+l.x*l.x+l.y*l.y+l.z*l.z)**-.5;s=l.w*f,h=l.x*f,u=l.y*f,M=l.z*f,e=!0}return{update:function(t,n,o,i,d,p,x,w,z,v){let k,q,E,A,m,I,O,Q,D,b,N,U,_,j,C,F,H,L,P,R,S,T,V,$;if(a=v||a,e||g(i,d,p,x,w,z),void 0===x||void 0===w||void 0===z||0===x&&0===w&&0===z)return void function(t,n,o,i,e,d){let g,p,x,w,z,v,k;0!==i&&0!==e&&0!==d&&(g=(i*i+e*e+d*d)**-.5,p=h*M-s*u,x=s*h+u*M,w=s*s-.5+M*M,z=(e*=g)*w-(d*=g)*x,v=d*p-(i*=g)*w,k=i*x-e*p,c>0?(l+=c*z*a,f+=c*v*a,y+=c*k*a,t+=l,n+=f,o+=y):(l=0,f=0,y=0),t+=r*z,n+=r*v,o+=r*k);const q=s,E=h,A=u;s+=-E*(t*=.5*a)-A*(n*=.5*a)-M*(o*=.5*a),h+=q*t+A*o-M*n,u+=q*n-E*o+M*t,M+=q*o+E*n-A*t,g=(s*s+h*h+u*u+M*M)**-.5,s*=g,h*=g,u*=g,M*=g}(t,n,o,i,d,p);0!==i&&0!==d&&0!==p&&(k=(i*i+d*d+p*p)**-.5,i*=k,d*=k,p*=k,k=(x*x+w*w+z*z)**-.5,q=s*s,E=s*h,A=s*u,m=s*M,I=h*h,O=h*u,Q=h*M,D=u*u,b=u*M,N=M*M,U=2*((x*=k)*(.5-D-N)+(w*=k)*(O-m)+(z*=k)*(Q+A)),_=2*(x*(O+m)+w*(.5-I-N)+z*(b-E)),j=Math.sqrt(U*U+_*_),C=2*(x*(Q-A)+w*(b+E)+z*(.5-I-D)),F=Q-A,H=E+b,L=q-.5+N,P=j*(.5-D-N)+C*(Q-A),R=j*(O-m)+C*(E+b),S=j*(A+Q)+C*(.5-I-D),T=d*L-p*H+(w*S-z*R),V=p*F-i*L+(z*P-x*S),$=i*H-d*F+(x*R-w*P),c>0?(l+=c*T*a,f+=c*V*a,y+=c*$*a,t+=l,n+=f,o+=y):(l=0,f=0,y=0),t+=r*T,n+=r*V,o+=r*$);const B=s,G=h,J=u;s+=-G*(t*=.5*a)-J*(n*=.5*a)-M*(o*=.5*a),h+=B*t+J*o-M*n,u+=B*n-G*o+M*t,M+=B*o+G*n-J*t,k=(s*s+h*h+u*u+M*M)**-.5,s*=k,h*=k,u*=k,M*=k},init:g,getQuaternion:()=>({w:s,x:h,y:u,z:M})}}},{}],ahrs:[function(t,n,o){"use strict";const i=180/Math.PI;function a(n){const o=(n=n||{}).sampleInterval||20,i=n.algorithm||"Madgwick";let a;if("Mahony"===i)a=t("./Mahony");else{if("Madgwick"!==i)throw new Error(`AHRS(): Algorithm not valid: ${i}`);a=t("./Madgwick")}const e=a(o,n),r=this;Object.keys(e).forEach((t=>r[t]=e[t]))}a.prototype.toVector=function(){const t=this.getQuaternion(),n=2*Math.acos(t.w),o=Math.sin(n/2);return{angle:n,x:t.x/o,y:t.y/o,z:t.z/o}},a.prototype.getEulerAngles=function(){const t=this.getQuaternion(),n=t.w*t.w,o=t.x*t.x,i=t.y*t.y,a=t.z*t.z;return{heading:Math.atan2(2*(t.x*t.y+t.z*t.w),o-i-a+n),pitch:-Math.asin(2*(t.x*t.z-t.y*t.w)),roll:Math.atan2(2*(t.y*t.z+t.x*t.w),-o-i+a+n)}},a.prototype.getEulerAnglesDegrees=function(){const t=this.getEulerAngles();return{heading:t.heading*i,pitch:t.pitch*i,roll:t.roll*i}},n.exports=a},{"./Madgwick":"./Madgwick","./Mahony":"./Mahony"}]},{},[]);
//# sourceMappingURL=/sm/4993820bf000198e077a06b30caeed709421d157d5724148d5cf8caa532add8d.map